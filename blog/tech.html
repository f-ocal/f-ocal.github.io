<!DOCTYPE HTML>
<html>
<head>
  <title>Positioning and Resizing the Elements by CSS</title>
  <link rel="stylesheet" type="text/css" href="../stylesheets/default.css">
</head>
<body class="main-content">
  <div class="top-bar">
    <!-- <span class="full-name">Fatma Ocal</span> -->
    <div class="right-nav">
      <span class="nav">
        <a href="http://f-ocal.github.io/index.html">Home</a> |
        <a href="http://f-ocal.github.io/about_me.html">About Me</a> |
        <a href="http://f-ocal.github.io/blog/index.html">Blogs</a> |
        <a href="#">Professional Experience</a> |
        <a href="#">Education</a> |
        <a href="http://f-ocal.github.io/projects/index.html">Projects</a> |
        <a href="http://f-ocal.github.io/contact.html">Let's Connect</a>
      </span>

      <div class="contact">
        <a href="https://www.facebook.com/fatma.ocal.10441" target="_blank"><img class="facebook" src="../imgs/facebook.jpg" alt="contact facebook"></a>
        <a href="https://twitter.com/reachfatma" target="_blank"><img class="twitter" src="../imgs/twitter.jpg" alt="contact twitter"></a>
        <a href="https://uk.linkedin.com/pub/fatma-ocal/20/680/b88" target="_blank"><img class="linkedin" src="../imgs/linkedin.jpg" alt="contact linkedin"></a>
      </div>
    </div>
  </div>

  <div class="reflection">
    <h2 style="margin-top:100px">Ruby Testing Frameworks</h2>
    <p>When you write code for an application or program, you can write test for the code. The test allows go beyond the verification and use the tests to improve the code's structure. Automated tests are great in a way that the program does what the developer thinks it does; however they are not great showing that what the developer thinks is what the program actually should do. Testing is a great way to catch errors in the development process when you write appropriate and concise tests. Ruby enables usages of the following testing frameworks in its standard library for setting up, organising, and running tests.
    </p>
    <span class="types">Test::Unit</span> Test::Unit is for unit testing framework for Ruby, based on xUnit principles.
    To install, you need to type<span class="code-install">$ sudo gem install test-unit</span> in the terminal. Test::Unit provides a rich set of assertions. You can think of an assertion as a statement for expected outcome, i.e. "I assert that x should be greater than y". Test::Unit provides a rich set of assertion, such as <span class="code-install">assert_equal(expected_value, actual_value, [message])</span>You can also include asserts into the method, let's look at the following example.
    <table>
      <tr>
        <td style="width:90%">
          <div class="code-block" style="height: 380px; width: 550px">
            # File:  sum_number.rb

            class SumNumber

            def initialize(num)
              raise unless num.is_a?(Numeric)
              @x = num
            end

            def add(y)
              @x + y
            end

            def multiply(y)
              @x * y
            end

            end
          </div>
        </td>
        <td style="width:90%">
          <div class="code-block" style="height: 380px; width: 700px">
            # File:  test_unit_sum_number.rb

            require_relative "sum_number"
            require "test/unit"

            class TestSumNumber < Test::Unit::TestCase

            def test_simple
              assert_equal(4, SumNumber.new(2).add(2) )
              assert_equal(4, SumNumber.new(2).multiply(2) )
            end

            def test_failure
              assert_equal(3, SumNumber.new(2).add(2), "Adding doesn't work" )
            end

            end
          </div>
        </td>
      </tr>
    </table><br>
    <div class="code-install">
      >> ruby test_unit_sum_number.rb<br>
      Loaded suite test_sum_number<br>
      Finished in 0.038617 seconds.<br>
      <br>
      1) Failure:<br>
      test_failure(TestSumNumber) [test_unit_sum_number.rb:16]:<br>
      Adding doesn't work. <3> expected, but was <4>.<br>
      2 tests, 3 assertions, 1 failures, 0 errors
    </div>
      Assertions are gathered in tests, member functions for the test case whose names start with <strong><em>test_</em></strong>. When the test case is executed or required, Test::Unit will iterate through all of tests (finding all of the functions which start with test_ using reflection) in the test case, and provide the appropriate feedback. Further information reagrding assertions and methods can be found at <a href="http://ruby-doc.org/stdlib-1.8.7/libdoc/test/unit/rdoc/Test/Unit/Assertions.html">Test::Unit Assertion</a>
      <p>

      <span class="types"><strong>Shoulda</strong></span style="font-size: 25px">Shoulda is added on to the Test::Unit framework, which is also for unit testing and it becomes available on attaching the <code>shoulda</code> gem.
      </p>
      <p>
      <span class="types"><strong>MiniTest</strong></span style="font-size: 25px">MiniTest is also attached to the Test::Unit framework and it becomes available on attaching the <code>minitest reporters</code> gem.Minimal (mostly drop-in) replacement for test-unit. MiniTest is very readable, small and incredibly fats unit testing framework and it provides a complete suite of testing facilities supporting TDD(Test Driven Development), BDD(Behaviour-Driven Development), mocking and benchmarking. Some of the feautures are the followings: <br>
      <span class="code-install">minitest/autorun-</span>the easy and explicit way to run all your tests.<br>
      <span class="code-install">minitest/unit-</span>a very fast, simple, and clean test system.<br>
      <span class="code-install">minitest/spec-</span>a very fast, simple, and clean spec system.<br>
      <span class="code-install">minitest/mock-</span>a simple, clean mock/stub system.<br>
      <span class="code-install">minitest/benchmark-</span>an awesome way to assert your algorithm's performance in a repeatable manner.<br>
      <p>
      <span class="types"><strong>Cucumber</strong></span style="font-size: 25px">Cucumber supports Behaviour-Driven Development(BDD) , and enables using features and scenarios written in any language. It becomes available in project upon installing and activating the <code>cucumber</code> gem.
      </p>
      <p>
      <span class="types"><strong>Rspec</strong></span style="font-size: 25px">RSpec is the most frequently used and very popular testing library for Ruby. It is Behaviour-Driven Development(BDD) testing framework, which is the concept built on the top of TDD(Test-Driven Development). RSpec stands for Ruby Spec. The idea is to write tests as specifications of system behaviour. RSpec provides the structure for writing executable examples of how your code should behave which means that the rspec describes your application's behaviour. It is very different way of approaching to the same challenge. TDD leads us to think more clearly and write tests that are easier to understand and maintain. This will help us write better and concise implementation code. General guidelines for TDD are:
        <br> - Write the smallest possible test case that matches what we need to write code
        <br> - Run the test and watch it fail.
        <br> - Write some code with aim of making the test pass
        <br> - Run the test and watch it fail.
        <br> To install rspec, type <span class="code-install"> $gem install rspec </span>
      You can create project of files with extension of <code>.rb</code>.
      <p>
      Let's create <code>book.rb</code> file which is for writing our code and <code>book_spec.rb</code> to write our tests to test our code. With RSpec, we are always <em>describing</em> the behavior of classess, modules and their methods. The <span class="code-install">describe block</span> is always used at the top to put the spec in a concept. When RSpec uses <code>"describe"</code>  and <code>"it"</code> words, so we can express concept like a conversation: <div class="code-install">"Describe an order".<br>"It sums the prices of its line items."</div>
    </p>
      We will start writing following code into our rspec <code><strong>book_spec.rb</strong></code> file:
      <div class="code-install">
        require_relative 'book.rb'<br>
        describe Book do<br>
        <em>#body goes here.
        <br></em>
        end
      </div>
      When we run <code><strong>#rspec book_spec.rb</strong></code> in the terminal, we will receive following test failure
      <div class="code-install"># uninitialized constant Book (NameError) error.</div>That's expected, as we haven't created that class yet. Therefore, we should declare a class of <code><strong>Book</strong></code>in <code>book.rb</code><div class="code-install">
        class Book
        <br><em>#body goes here.</em>
        <br>
        end
      </div>Running your RSpec now the test passess. That means we are now ready to add further test in our RSpec file. You could think of each case that the test might fail, we will write test for that case. Whenever you write the test, the test fails and you should write the simpliest code to make the test passed. Here, we have our code and test that have been written by Test-Driven Development format in the following:
      </p>
      <table>
        <tr>
          <td style="width:90%">
            <div class="code-block" style="height: 860px; width: 500px">
      # File: book.rb

      <span style="color: blue">class</span> Book

       attr_accessor :author, :category

       def initialize title, author, category
         @title = title
         @author = author
         @category = category
         @books = []
       end

       def title
         @title
       end

       def title= new_title
         @title= new_title
       end

       def get_book(title)
         @books.select do |book|
           book.title == title
         end.first
       end

       def add_book(book)
         @books.push(book)
       end

     <span style="color: blue">end</span>

     <div class="code-install">
    > rspec book_spec.rb<br>
    ......
    Finished in 0.00288 seconds.
    6 examples, 0 failures
     </div>
          </div>
          </td>

          <td style="width:90%;">
            <div class="code-block" style="height: 860px; width: 800px">
      # File: book_spec.rb

      require_relative 'book.rb'

      describe Book <span style="color: blue">do</span>

          before :each <span style="color: blue">do</span>
            @book = Book.new "Title", "Author", :category
          <span style="color: blue">end</span>

          describe <span style="color:red">"#new"</span><span style="color:blue"> do </span>
              it <span style="color:red">"returns a new book object"</span><span style="color: blue">do</span>
                @book.should(be_an_instance_of(Book))
              <span style="color: blue">end</span>

              it <span style="color:red">"throws an ArgumentError when given fewer than 3 parameters"</span><span style="color: blue"> do</span>
                lambda {Book.new "Title", "Author"}.should raise_exception(ArgumentError)
              <span style="color: blue">end</span>
          <span style="color: blue">end</span>

          describe <span style="color:red">"#title"</span><span style="color:blue"> do </span>
              it <span style="color:red">"returns the correct title"</span><span style="color: blue"> do</span>
                @book.title.should eql "Title"
              <span style="color: blue">end</span>
          <span style="color: blue">end</span>

          describe <span style="color:red">"#author"</span><span style="color:blue"> do </span>
              it <span style="color:red">"returns the correct author"</span><span style="color: blue"> do</span>
                @book.author.should eql "Author"
              <span style="color: blue">end</span>
          <span style="color: blue">end</span>

          describe <span style="color:red">"#category"</span><span style="color:blue"> do </span>
              it <span style="color:red">"returns the correct category"</span><span style="color: blue"> do</span>
                @book.category.should eql :category
              <span style="color: blue">end</span>
          <span style="color: blue">end</span>

          it <span style="color:red">"#accepts new books"</span><span style="color:blue"> do </span>
            @book.add_book(Book.new("Designing for the Web", "Mark Boulton",:design))
            @book.get_book("Designing for the Web").should be_an_instance_of Book
          <span style="color: blue">end</span>
      <span style="color: blue">end</span>
            </div>
          </td>
        </tr>
      </table>
      <br>Some handy tricks for CLI :) <br>
      * rspec spec_fileName.rb --format nested<br>
      * rspec spec_fileName.rb --format documentation<br>
      * mkdir spec<br>
      * touch spec/book_spec.rb spec/library_spec.rb # creating two files without navigating into the spec directory<br>
      * tree<br>
      </div>
      </p>
    </div>
  </body>
</html>
